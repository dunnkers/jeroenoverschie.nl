<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Automated curtains project</title>

    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Mulish:ital,wght@0,400;0,700;0,800;1,400;1,700&family=Lora:ital,wght@0,400;0,700;1,400;1,700&display=swap">

    <link rel="stylesheet" href="/assets/built/screen.css?v=4407151917">

    <meta name="description" content="My electric curtains can already be controlled by a remote. It would be cool if they could open in the morning, like an alarm clock. What if I could do this using a Raspberry Pi, by emulating the remote?" />
    <link rel="icon" href="https://jeroenoverschie.nl/content/images/size/w256h256/format/png/2022/10/cartoon-head-jeroen-1-2.svg" type="image/png" />
    <link rel="canonical" href="https://jeroenoverschie.nl/automated-curtains/" />
    <meta name="referrer" content="no-referrer-when-downgrade" />
    <link rel="amphtml" href="https://jeroenoverschie.nl/automated-curtains/amp/" />
    
    <meta property="og:site_name" content="Jeroen Overschie" />
    <meta property="og:type" content="article" />
    <meta property="og:title" content="Automated curtains project" />
    <meta property="og:description" content="My electric curtains can already be controlled by a remote. It would be cool if they could open in the morning, like an alarm clock. What if I could do this using a Raspberry Pi, by emulating the remote?" />
    <meta property="og:url" content="https://jeroenoverschie.nl/automated-curtains/" />
    <meta property="og:image" content="https://jeroenoverschie.nl/content/images/2021/11/automated-curtains-cover-2.png" />
    <meta property="article:published_time" content="2020-02-09T23:00:00.000Z" />
    <meta property="article:modified_time" content="2021-11-29T23:29:53.000Z" />
    <meta property="article:tag" content="Internet of Things" />
    
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Automated curtains project" />
    <meta name="twitter:description" content="My electric curtains can already be controlled by a remote. It would be cool if they could open in the morning, like an alarm clock. What if I could do this using a Raspberry Pi, by emulating the remote?" />
    <meta name="twitter:url" content="https://jeroenoverschie.nl/automated-curtains/" />
    <meta name="twitter:image" content="https://jeroenoverschie.nl/content/images/2021/11/automated-curtains-cover-2.png" />
    <meta name="twitter:label1" content="Written by" />
    <meta name="twitter:data1" content="Jeroen Overschie" />
    <meta name="twitter:label2" content="Filed under" />
    <meta name="twitter:data2" content="Internet of Things" />
    <meta property="og:image:width" content="2448" />
    <meta property="og:image:height" content="1536" />
    
    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Article",
    "publisher": {
        "@type": "Organization",
        "name": "Jeroen Overschie",
        "url": "https://jeroenoverschie.nl/",
        "logo": {
            "@type": "ImageObject",
            "url": "https://jeroenoverschie.nl/content/images/size/w256h256/format/png/2022/10/cartoon-head-jeroen-1-2.svg",
            "width": 60,
            "height": 60
        }
    },
    "author": {
        "@type": "Person",
        "name": "Jeroen Overschie",
        "image": {
            "@type": "ImageObject",
            "url": "https://www.gravatar.com/avatar/b37b136916ade32aada1f345482aafa4?s=250&r=x&d=mp",
            "width": 250,
            "height": 250
        },
        "url": "https://jeroenoverschie.nl/author/jeroen/",
        "sameAs": []
    },
    "headline": "Automated curtains project",
    "url": "https://jeroenoverschie.nl/automated-curtains/",
    "datePublished": "2020-02-09T23:00:00.000Z",
    "dateModified": "2021-11-29T23:29:53.000Z",
    "image": {
        "@type": "ImageObject",
        "url": "https://jeroenoverschie.nl/content/images/2021/11/automated-curtains-cover-2.png",
        "width": 2448,
        "height": 1536
    },
    "keywords": "Internet of Things",
    "description": "My electric curtains can already be controlled by a remote. It would be cool if they could open in the morning, like an alarm clock. What if I could do this using a Raspberry Pi, by emulating the remote?",
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://jeroenoverschie.nl/"
    }
}
    </script>

    <meta name="generator" content="Ghost 5.19" />
    <link rel="alternate" type="application/rss+xml" title="Jeroen Overschie" href="https://jeroenoverschie.nl/rss/" />
    
    <script defer src="https://cdn.jsdelivr.net/ghost/sodo-search@~1.1/umd/sodo-search.min.js" data-key="489b5afdd4c5385878c360bd9b" data-styles="https://cdn.jsdelivr.net/ghost/sodo-search@~1.1/umd/main.css" data-sodo-search="https://jeroenoverschie.nl/" crossorigin="anonymous"></script>
    <script defer src="/public/cards.min.js?v=4407151917"></script><style>:root {--ghost-accent-color: #FF1A75;}</style>
    <link rel="stylesheet" type="text/css" href="/public/cards.min.css?v=4407151917">
</head>

<body class="post-template tag-internet-of-things">
    <div class="site">
        <header id="site-header" class="site-header">
    <div class="header-inner">
        <div class="header-brand">
            <a class="logo" href="https://jeroenoverschie.nl">
                    <span class="logo-text">Jeroen Overschie</span>
            </a>

            <div class="burger">
                <div class="burger-bar"></div>
                <div class="burger-bar"></div>
            </div>
        </div>

        <nav class="header-nav">
                        <a class="menu-item menu-item-data-science" href="https://jeroenoverschie.nl/tag/data-science/">Data Science</a>
        <a class="menu-item menu-item-software-engineering" href="https://jeroenoverschie.nl/tag/software-engineering/">Software Engineering</a>
        <a class="menu-item menu-item-code-snippets" href="https://jeroenoverschie.nl/tag/code-snippets/">Code snippets</a>
        <a class="menu-item menu-item-publications" href="https://jeroenoverschie.nl/publications/">Publications</a>

        </nav>

        <div class="header-actions">
            <div class="social">

            </div>

        </div>
    </div>
</header>

        <div class="site-content">
            
<div class="content-area">
    <main class="site-main">
            <article class="single post tag-internet-of-things featured">
    <header class="single-header kg-canvas">
            <div class="single-meta">
                <span class="single-meta-item single-meta-date">
                    <time datetime="2020-02-10">
                        Feb 10, 2020
                    </time>
                </span>

                <span class="single-meta-item single-meta-length">
                    4 min read
                </span>

                    <span class="single-meta-item single-meta-tag">
                        <a class="post-tag post-tag-internet-of-things" href="/tag/internet-of-things/">Internet of Things</a>
                    </span>
            </div>

        <h1 class="single-title">Automated curtains project</h1>

            <div class="single-excerpt">
                My electric curtains can already be controlled by a remote. It would be cool if they could open in the morning, like an alarm clock. What if I could do this using a Raspberry Pi, by emulating the remote?
            </div>

                <figure class="single-media kg-width-wide">
                    <img srcset="/content/images/size/w400/2021/11/automated-curtains-cover-2.png 400w,
/content/images/size/w750/2021/11/automated-curtains-cover-2.png 750w,
/content/images/size/w960/2021/11/automated-curtains-cover-2.png 960w,
/content/images/size/w1140/2021/11/automated-curtains-cover-2.png 1140w" sizes="(min-width: 1023px) 920px, calc(90vw)" src="/content/images/size/w960/2021/11/automated-curtains-cover-2.png" alt="Automated curtains project">
                        <figcaption>This is how I can currently control my curtains: using a little remote.</figcaption>
                </figure>
    </header>

    <div class="single-content gh-content kg-canvas">
        <p>An idea sprung up in my mind some while ago. In my student dorm, I have electric curtains. They can be operated using a little remote, allowing one to open or close the curtains. This is pretty useful, because I don't even have to get out of bed to open my curtains – I can just use the remote. But the remote uses radio waves to operate the curtains - and I have a Raspberry Pi laying around, doing nothing. What if I could operate the curtains using my Raspberry Pi? Such, that the curtains open at a certain time in the morning. In this way, my curtains would function as an alarm clock! In this project, I did exactly that 😉.</p><h3 id="how">How</h3><p>First, I have to figure out at all how to do this. Taking a look at the curtain remote, I found the brand to be '<em>Somfy'</em>. After some Google image searches I found the name of my remote model, the Somfy Telis 1-RTS:</p><figure class="kg-card kg-image-card kg-card-hascaption"><img src="https://jeroenoverschie.nl/content/images/2021/11/SOMFY-TELIS-1-RTS-old.jpeg" class="kg-image" alt loading="lazy" width="300" height="300"><figcaption>My curtain remote. The goal is to emulate whatever signal it is sending to the curtains using a Raspberry Pi.</figcaption></figure><p>I want to emulate the RF (Radio Frequency) signal the remote is emitting. Such that, instead of pressing a button on the remote, I can control the curtains programmatically using code. Then, because the Raspberry Pi will always be on, I can configure certain times to open/close the curtains.</p><p>But surely, other people have wanted to do this too. Somfy is a popular brand for electric curtains after all. So, I searched, and found <a href="https://github.com/Nickduino/Pi-Somfy">Github project</a> containing code to control the curtains using a Raspberry Pi, if correctly assembled. Let's start!</p><h3 id="preparation">Preparation</h3><p>I need a couple things to make this work.</p><ol><li>Raspberry Pi (I am using a Raspberry Pi 2011 edition - Model B)</li><li>RF (Radio Frequency) transmitter (with an oscillator at 433.42 Mhz)</li><li>Cables to connect the RF emitter to the Raspberry Pi</li></ol><p>Most parts could easily be ordered through Ebay. However, Somfy did something smart in their product. They intentionally set their oscillator frequency to an odd number, 433.42 Mhz. Most other RF emitters run at 433.93 Mhz. There are, luckily, some places you can order a 433.42 oscillator. But only the oscillator. This means we are going to have to do some soldering to replace the oscillator. After a couple weeks, my parts arrived.</p><figure class="kg-card kg-image-card kg-card-hascaption"><img src="https://jeroenoverschie.nl/content/images/2021/11/Photo-from-Jeroen-Overschie-3.png" class="kg-image" alt loading="lazy" width="1000" height="600" srcset="https://jeroenoverschie.nl/content/images/size/w600/2021/11/Photo-from-Jeroen-Overschie-3.png 600w, https://jeroenoverschie.nl/content/images/2021/11/Photo-from-Jeroen-Overschie-3.png 1000w" sizes="(min-width: 720px) 720px"><figcaption>The RF emitter on the left and a replacement part for changing its oscillator frequency on the right.</figcaption></figure><h3 id="building-the-pi-emitter">Building the Pi emitter</h3><p>My friend happened to possess a soldering set, so after a quick visit I managed to solder the correct oscillator onto the RF emitter board.  Using a set of cables, I could attach the RF transmitter to the Raspberry Pi 🙌🏻.</p><figure class="kg-card kg-image-card kg-card-hascaption"><img src="https://jeroenoverschie.nl/content/images/2021/11/Screen-Shot-2021-11-26-at-14.49.31.png" class="kg-image" alt loading="lazy" width="1008" height="942" srcset="https://jeroenoverschie.nl/content/images/size/w600/2021/11/Screen-Shot-2021-11-26-at-14.49.31.png 600w, https://jeroenoverschie.nl/content/images/size/w1000/2021/11/Screen-Shot-2021-11-26-at-14.49.31.png 1000w, https://jeroenoverschie.nl/content/images/2021/11/Screen-Shot-2021-11-26-at-14.49.31.png 1008w" sizes="(min-width: 720px) 720px"><figcaption>The fully assembled Raspberry Pi, with its RF emitter attached via a cable.</figcaption></figure><p>I also bought an extra enclosure to keep the thing a bit more safe:</p><figure class="kg-card kg-image-card kg-card-hascaption"><img src="https://jeroenoverschie.nl/content/images/2021/11/image00003.jpeg" class="kg-image" alt loading="lazy" width="540" height="720"><figcaption>Assembled Raspberry Pi RF transmitter, with enclosure.</figcaption></figure><p>Now all there's left is configure the correct software on the Raspberry Pi. Using the Github project I found, I was able to install the software and make the software automatically start on a reboot. It has a pretty neat interface, allowing one to set CRON jobs to open/close the curtains. In non-nerd speech we would just call this 'an alarm' 😅.</p><figure class="kg-card kg-image-card kg-card-hascaption"><img src="https://jeroenoverschie.nl/content/images/2021/11/p3.png" class="kg-image" alt loading="lazy" width="982" height="545" srcset="https://jeroenoverschie.nl/content/images/size/w600/2021/11/p3.png 600w, https://jeroenoverschie.nl/content/images/2021/11/p3.png 982w" sizes="(min-width: 720px) 720px"><figcaption>The Pi-Somfy interface. One can easily connect to a web server running on the Pi if on the same network, allowing me to configure the alarms even on my phone.</figcaption></figure><p>I now just had to execute a certain pattern of button presses to emulate pairing a new remote. And then ... it worked! 🎉</p><figure class="kg-card kg-image-card kg-card-hascaption"><img src="https://jeroenoverschie.nl/content/images/2021/11/ezgif-2-a5aab328d979.gif" class="kg-image" alt loading="lazy" width="320" height="569"><figcaption>Opening my curtains using the Raspberry Pi and its RF sensor.</figcaption></figure><p>Now, I can go to sleep in darkness, and wake up with sunlight hitting my face 🌞. Awesome! The project has succeeded and the cool thing is I have been using this every day ever since. The cool thing about doing a Computer Science degree is when you can apply your knowledge to solve real-world problems. When I leave this student dormitory, I will leave the Raspberry Pi right where it is, so others can also benefit from automated curtains 😊. Cheers!</p>
    </div>

        <footer class="single-footer container small">
            <div class="single-footer-left">
                    <div class="navigation navigation-previous">
                        <a class="navigation-link" href="/school-breaktime-friend-finder/" aria-label="Previous post">
                            <span class="navigation-icon"><svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">
    <path d="M26.667 14.667v2.667h-16L18 24.667l-1.893 1.893L5.547 16l10.56-10.56L18 7.333l-7.333 7.333h16z"></path>
</svg></span>
                        </a>
                    </div>
            </div>

            <div class="single-footer-middle">
                    <div class="single-footer-top">
                        <h3 class="single-footer-title">Published by:</h3>
                        <div class="author-list">
                                <div class="author-image-placeholder u-placeholder square">
                                    <a href="/author/jeroen/" title="Jeroen Overschie">
                                            <img class="author-image u-object-fit" src="https://www.gravatar.com/avatar/b37b136916ade32aada1f345482aafa4?s&#x3D;250&amp;r&#x3D;x&amp;d&#x3D;mp" alt="Jeroen Overschie" loading="lazy">
                                    </a>
                                </div>
                        </div>
                    </div>

            </div>

            <div class="single-footer-right">
                    <div class="navigation navigation-next">
                        <a class="navigation-link" href="/covid-19-dashboard/" aria-label="Next post">
                            <span class="navigation-icon"><svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">
    <path d="M5.333 14.667v2.667h16L14 24.667l1.893 1.893L26.453 16 15.893 5.44 14 7.333l7.333 7.333h-16z"></path>
</svg></span>
                        </a>
                    </div>
            </div>
        </footer>
</article>                                </main>
</div>


        </div>

        <footer class="site-footer container">
    <div class="footer-inner">
        <div class="footer-left">
            <div class="copyright">
                Jeroen Overschie © 2024
            </div>
        </div>

        <nav class="footer-nav">
                    <a class="menu-item menu-item-data-privacy" href="https://jeroenoverschie.nl/privacy/">Data &amp; privacy</a>
            <span class="sep">•</span>
        <a class="menu-item menu-item-contact" href="https://jeroenoverschie.nl/contact/">Contact</a>

        </nav>

        <div class="footer-right">
            <div class="social">

            </div>
        </div>
    </div>
</footer>        <!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">
    <!-- Background of PhotoSwipe.
        It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">
        <!-- Container that holds slides.
          PhotoSwipe keeps only 3 of them in the DOM to save memory.
          Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">
            <div class="pswp__top-bar">
                <!--  Controls are self-explanatory. Order can be changed. -->
                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
                <button class="pswp__button pswp__button--share" title="Share"></button>
                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo https://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button>
            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>
        </div>
    </div>
</div>    </div>

    <script>
        if (document.body.classList.contains('with-full-cover') && (/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.platform))) {
            document.getElementsByClassName('cover')[0].style.height = window.innerHeight + 'px';
        }
    </script>

    <script src="/assets/built/main.min.js?v=4407151917"></script>

    
</body>

</html>